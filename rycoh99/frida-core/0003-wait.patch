From e7abd952bf3b62a57302c57daf948851760a296c Mon Sep 17 00:00:00 2001
From: Your Name <you@example.com>
Date: Tue, 2 Sep 2025 13:47:29 +1200
Subject: [PATCH] fix more

---
 0001-fix.patch         | 34 ++++++++++++++++++++++++++++++++++
 lib/gadget/gadget.vala |  4 ++--
 2 files changed, 36 insertions(+), 2 deletions(-)
 create mode 100644 0001-fix.patch

diff --git a/0001-fix.patch b/0001-fix.patch
new file mode 100644
index 00000000..b84e3a11
--- /dev/null
+++ b/0001-fix.patch
@@ -0,0 +1,34 @@
+From 8404e54a1e7fda58f23a4170afbdd334a5b55be7 Mon Sep 17 00:00:00 2001
+From: Your Name <you@example.com>
+Date: Tue, 2 Sep 2025 12:01:21 +1200
+Subject: [PATCH] fix
+
+---
+ lib/base/socket.vala | 8 ++++----
+ 1 file changed, 4 insertions(+), 4 deletions(-)
+
+diff --git a/lib/base/socket.vala b/lib/base/socket.vala
+index 1ba8d338..039e266c 100644
+--- a/lib/base/socket.vala
++++ b/lib/base/socket.vala
+@@ -1,13 +1,13 @@
+ namespace Frida {
+-	public const uint16 DEFAULT_CONTROL_PORT = 27042;
+-	public const uint16 DEFAULT_CLUSTER_PORT = 27052;
++	public const uint16 DEFAULT_CONTROL_PORT = 37042;
++	public const uint16 DEFAULT_CLUSTER_PORT = 37052;
+ 
+ 	public SocketConnectable parse_control_address (string? address, uint16 port = 0) throws Error {
+-		return parse_socket_address (address, port, "127.0.0.1", DEFAULT_CONTROL_PORT);
++		return parse_socket_address (address, port, "0.0.0.0", DEFAULT_CONTROL_PORT);
+ 	}
+ 
+ 	public SocketConnectable parse_cluster_address (string? address, uint16 port = 0) throws Error {
+-		return parse_socket_address (address, port, "127.0.0.1", DEFAULT_CLUSTER_PORT);
++		return parse_socket_address (address, port, "0.0.0.0", DEFAULT_CLUSTER_PORT);
+ 	}
+ 
+ 	public SocketConnectable parse_socket_address (string? address, uint16 port, string default_address,
+-- 
+2.43.0
+
diff --git a/lib/gadget/gadget.vala b/lib/gadget/gadget.vala
index 230284c7..78ceb0ae 100644
--- a/lib/gadget/gadget.vala
+++ b/lib/gadget/gadget.vala
@@ -202,13 +202,13 @@ namespace Frida.Gadget {
 		public PortConflictBehavior on_port_conflict {
 			get;
 			set;
-			default = PortConflictBehavior.FAIL;
+			default = PortConflictBehavior.PICK_NEXT;
 		}
 
 		public LoadBehavior on_load {
 			get;
 			set;
-			default = LoadBehavior.WAIT;
+			default = LoadBehavior.RESUME;
 		}
 
 		public enum LoadBehavior {
-- 
2.43.0

